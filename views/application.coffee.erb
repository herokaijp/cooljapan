$ ->
  init = ->
    # write initial code after load fbAsyncInit
    listen_twitter()
    return

  # load facebook javascript sdk
  window.fbAsyncInit = ->
    FB.init
      appId: "<%=ENV['FB_APP_ID']%>"
      status: true
      cookie: true
      xfbml: true
    init()
  ((d) ->
    js = undefined
    id = "facebook-jssdk"
    ref = d.getElementsByTagName("script")[0]
    return  if d.getElementById(id)
    js = d.createElement("script")
    js.id = id
    js.async = true
    js.src = "//connect.facebook.net/en_US/all.js"
    ref.parentNode.insertBefore js, ref
  ) document

  listen_twitter = ->
    $('ul#tweets>li').live 'hover', (e) ->
      div = $(@).find('div.content')
      if e.type == 'mouseenter'
        div.addClass 'hover'
      else if e.type == 'mouseleave'
        div.removeClass 'hover'
      return
    return
  return
